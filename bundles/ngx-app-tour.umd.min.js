!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/animations"),require("@angular/cdk/coercion"),require("@angular/cdk/overlay"),require("@angular/common"),require("@angular/router"),require("rxjs"),require("withinviewport"),require("rxjs/operators"),require("@angular/core")):"function"==typeof define&&define.amd?define("ngx-app-tour",["exports","@angular/animations","@angular/cdk/coercion","@angular/cdk/overlay","@angular/common","@angular/router","rxjs","withinviewport","rxjs/operators","@angular/core"],t):t(e["ngx-app-tour"]={},e.ng.animations,e.ng.cdk.coercion,e.ng.cdk.overlay,e.ng.common,e.ng.router,e.rxjs,e.withinviewport,e.rxjs.operators,e.ng.core)}(this,function(e,t,r,n,i,o,s,a,p,l){"use strict";a=a&&a.hasOwnProperty("default")?a["default"]:a;var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function b(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}var h=t.trigger("fadeAnimation",[t.state("void",t.style({opacity:0})),t.state("true",t.style({opacity:1})),t.state("false",t.style({opacity:0})),t.transition("* => true",t.animate("150ms cubic-bezier(0.0, 0.0, 0.2, 1)")),t.transition("* => void",t.animate("150ms cubic-bezier(0.4, 0.0, 1, 1)"))]),y={top:{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom"},topCenter:{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom"},topLeft:{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},topRight:{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},right:{originX:"end",originY:"center",overlayX:"start",overlayY:"center"},rightTop:{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},rightBottom:{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},bottom:{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top"},bottomCenter:{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top"},bottomLeft:{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},bottomRight:{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},left:{originX:"start",originY:"center",overlayX:"end",overlayY:"center"},leftTop:{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},leftBottom:{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}},f=v([y.top,y.right,y.bottom,y.left]);v([y.bottomLeft,y.topLeft]);function d(t,e){return function o(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(e,function(e){return t[e]})}function v(e){return null==e?[]:d(e,Object.keys(e))}var g=function(){function e(e){this.cdr=e,this._hasBackdrop=!1,this._prefix="ant-popover-placement",this._positions=function n(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}(f),this._classMap={},this._placement="top",this._trigger="hover",this.visibleSource=new s.BehaviorSubject(!1),this.visible$=this.visibleSource.asObservable(),this.nzVisibleChange=new l.EventEmitter,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzMouseEnterDelay=.15,this.nzMouseLeaveDelay=.1}return Object.defineProperty(e.prototype,"nzContent",{get:function(){return this._content},set:function(e){this.isContentString=!(e instanceof l.TemplateRef),this._content=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzVisible",{get:function(){return this.visibleSource.value},set:function(e){var t=function n(e){return r.coerceBooleanProperty(e)}(e);this.visibleSource.value!==t&&(this.visibleSource.next(t),this.nzVisibleChange.emit(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzTrigger",{get:function(){return this._trigger},set:function(e){this._trigger=e,this._hasBackdrop="click"===this._trigger},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzPlacement",{get:function(){return this._placement},set:function(e){e!==this._placement&&(this._placement=e,this._positions.unshift(y[this.nzPlacement]))},enumerable:!0,configurable:!0}),e.prototype.updatePosition=function(){this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()},e.prototype.onPositionChange=function(e){for(var t in y)if(JSON.stringify(e.connectionPair)===JSON.stringify(y[t])){this.nzPlacement=t;break}this.setClassMap(),this.cdr.detectChanges()},e.prototype.show=function(){this.nzVisible=!0},e.prototype.hide=function(){this.nzVisible=!1},e.prototype._afterVisibilityAnimation=function(e){"false"!==e.toState||this.nzVisible||this.nzVisibleChange.emit(!1),"true"===e.toState&&this.nzVisible&&this.nzVisibleChange.emit(!0)},e.prototype.setClassMap=function(){var e;this._classMap=((e={})[this.nzOverlayClassName]=!0,e[this._prefix+"-"+this._placement]=!0,e)},e.prototype.setOverlayOrigin=function(e){this.overlayOrigin=e},e.decorators=[{type:l.Component,args:[{selector:"nz-popover",template:"",preserveWhitespaces:!1}]}],e.ctorParameters=function(){return[{type:l.ChangeDetectorRef}]},e.propDecorators={_content:[{type:l.ContentChild,args:["nzTemplate"]}],overlay:[{type:l.ViewChild,args:["overlay"]}],nzVisibleChange:[{type:l.Output}],nzOverlayClassName:[{type:l.Input}],nzOverlayStyle:[{type:l.Input}],nzMouseEnterDelay:[{type:l.Input}],nzMouseLeaveDelay:[{type:l.Input}],nzContent:[{type:l.Input}],nzVisible:[{type:l.Input}],nzTrigger:[{type:l.Input}],nzPlacement:[{type:l.Input}]},e}();var S=function(){function e(e,t,n,r,i){this.elementRef=e,this.hostView=t,this.resolver=n,this.renderer=r,this.tooltip=i,this.unsubscribe$=new s.Subject,this.isTooltipOpen=!1,this.isDynamicTooltip=!1,this.factory=this.resolver.resolveComponentFactory(g),this.nzVisibleChange=new l.EventEmitter}return Object.defineProperty(e.prototype,"nzTitle",{get:function(){return this._title},set:function(e){this._title=e,this.updateCompValue("nzTitle",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setTitle",{set:function(e){this.nzTitle=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzContent",{get:function(){return this._content},set:function(e){this._content=e,this.updateCompValue("nzContent",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzOverlayClassName",{get:function(){return this._overlayClassName},set:function(e){this._overlayClassName=e,this.updateCompValue("nzOverlayClassName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzOverlayStyle",{get:function(){return this._overlayStyle},set:function(e){this._overlayStyle=e,this.updateCompValue("nzOverlayStyle",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzMouseEnterDelay",{get:function(){return this._mouseEnterDelay},set:function(e){this._mouseEnterDelay=e,this.updateCompValue("nzMouseEnterDelay",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzMouseLeaveDelay",{get:function(){return this._mouseEnterDelay},set:function(e){this._mouseLeaveDelay=e,this.updateCompValue("nzMouseLeaveDelay",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzVisible",{get:function(){return this._visible},set:function(e){this._visible=e,this.updateCompValue("nzVisible",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzTrigger",{get:function(){return this._trigger},set:function(e){this._trigger=e,this.updateCompValue("nzTrigger",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzPlacement",{get:function(){return this._placement},set:function(e){this._placement=e,this.updateCompValue("nzPlacement",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this.isTooltipOpen},enumerable:!0,configurable:!0}),e.prototype.show=function(){this.tooltip.show(),this.isTooltipOpen=!0},e.prototype.hide=function(){this.tooltip.hide(),this.isTooltipOpen=!1},e.prototype.delayEnterLeave=function(e,t,n){var r=this;void 0===n&&(n=-1),this.delayTimer?(window.clearTimeout(this.delayTimer),this.delayTimer=null):0<n?this.delayTimer=window.setTimeout(function(){r.delayTimer=null,t?r.show():r.hide()},1e3*n):t&&e?this.show():this.hide()},e.prototype.updateCompValue=function(e,t){this.isDynamicTooltip&&function n(e){return null!=e}(t)&&(this.tooltip[e]=t)},e.prototype.ngOnInit=function(){var t=this;if(!this.tooltip){var e=this.hostView.createComponent(this.factory);this.tooltip=e.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),e.location.nativeElement),this.isDynamicTooltip=!0;["nzTitle","nzContent","nzOverlayClassName","nzOverlayStyle","nzMouseEnterDelay","nzMouseLeaveDelay","nzVisible","nzTrigger","nzPlacement"].forEach(function(e){return t.updateCompValue(e,t[e])}),this.tooltip.nzVisibleChange.pipe(p.takeUntil(this.unsubscribe$),p.distinctUntilChanged()).subscribe(function(e){t._visible=e,t.nzVisibleChange.emit(e)})}this.tooltip.setOverlayOrigin(this)},e.prototype.ngAfterViewInit=function(){var e,t=this;"hover"===this.tooltip.nzTrigger?(this.renderer.listen(this.elementRef.nativeElement,"mouseenter",function(){return t.delayEnterLeave(!0,!0,t.tooltip.nzMouseEnterDelay)}),this.renderer.listen(this.elementRef.nativeElement,"mouseleave",function(){t.delayEnterLeave(!0,!1,t.tooltip.nzMouseLeaveDelay),t.tooltip.overlay.overlayRef&&!e&&(e=t.tooltip.overlay.overlayRef.overlayElement,t.renderer.listen(e,"mouseenter",function(){return t.delayEnterLeave(!1,!0)}),t.renderer.listen(e,"mouseleave",function(){return t.delayEnterLeave(!1,!1)}))})):"focus"===this.tooltip.nzTrigger?(this.renderer.listen(this.elementRef.nativeElement,"focus",function(){return t.show()}),this.renderer.listen(this.elementRef.nativeElement,"blur",function(){return t.hide()})):"click"===this.tooltip.nzTrigger&&this.renderer.listen(this.elementRef.nativeElement,"click",function(e){e.preventDefault(),t.show()})},e.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},e.decorators=[{type:l.Directive,args:[{selector:"[nz-popover]"}]}],e.ctorParameters=function(){return[{type:l.ElementRef},{type:l.ViewContainerRef},{type:l.ComponentFactoryResolver},{type:l.Renderer2},{type:g,decorators:[{type:l.Optional}]}]},e.propDecorators={nzVisibleChange:[{type:l.Output}],nzTitle:[{type:l.Input,args:["nz-tooltip"]}],setTitle:[{type:l.Input,args:["nzTitle"]}],nzContent:[{type:l.Input}],nzOverlayClassName:[{type:l.Input}],nzOverlayStyle:[{type:l.Input}],nzMouseEnterDelay:[{type:l.Input}],nzMouseLeaveDelay:[{type:l.Input}],nzVisible:[{type:l.Input}],nzTrigger:[{type:l.Input}],nzPlacement:[{type:l.Input}],isOpen:[{type:l.HostBinding,args:["class.ant-tooltip-open"]}]},e}(),w=function(){function e(){}return e.decorators=[{type:l.NgModule,args:[{entryComponents:[g],exports:[S,g],declarations:[S,g],imports:[i.CommonModule,n.OverlayModule]}]}],e}(),O={OFF:0,ON:1,PAUSED:2};O[O.OFF]="OFF",O[O.ON]="ON",O[O.PAUSED]="PAUSED";var x=function(){function e(e){this.router=e,this.stepShow$=new s.Subject,this.stepHide$=new s.Subject,this.initialize$=new s.Subject,this.start$=new s.Subject,this.end$=new s.Subject,this.pause$=new s.Subject,this.resume$=new s.Subject,this.anchorRegister$=new s.Subject,this.anchorUnregister$=new s.Subject,this.events$=s.merge(this.stepShow$.pipe(p.map(function(e){return{name:"stepShow",value:e}})),this.stepHide$.pipe(p.map(function(e){return{name:"stepHide",value:e}})),this.initialize$.pipe(p.map(function(e){return{name:"initialize",value:e}})),this.start$.pipe(p.map(function(e){return{name:"start",value:e}})),this.end$.pipe(p.map(function(e){return{name:"end",value:e}})),this.pause$.pipe(p.map(function(e){return{name:"pause",value:e}})),this.resume$.pipe(p.map(function(e){return{name:"resume",value:e}})),this.anchorRegister$.pipe(p.map(function(e){return{name:"anchorRegister",value:e}})),this.anchorUnregister$.pipe(p.map(function(e){return{name:"anchorUnregister",value:e}}))),this.steps=[],this.anchors={},this.status=O.OFF}return e.prototype.initialize=function(e,t){e&&0<e.length&&(this.status=O.OFF,this.steps=e.map(function(e){return Object.assign({},t,e)}),this.initialize$.next(this.steps))},e.prototype.start=function(){this.startAt(0)},e.prototype.startAt=function(e){var t=this;this.status=O.ON,this.goToStep(this.loadStep(e)),this.start$.next(),this.router.events.pipe(p.filter(function(e){return e instanceof o.NavigationStart}),p.first()).subscribe(function(){t.currentStep&&t.hideStep(t.currentStep)})},e.prototype.end=function(){this.status=O.OFF,this.hideStep(this.currentStep),this.currentStep=undefined,this.end$.next()},e.prototype.pause=function(){this.status=O.PAUSED,this.hideStep(this.currentStep),this.pause$.next()},e.prototype.resume=function(){this.status=O.ON,this.showStep(this.currentStep),this.resume$.next()},e.prototype.toggle=function(e){e?this.currentStep?this.pause():this.resume():this.currentStep?this.end():this.start()},e.prototype.next=function(){this.hasNext(this.currentStep)&&this.goToStep(this.loadStep(this.currentStep.nextStep||this.steps.indexOf(this.currentStep)+1))},e.prototype.hasNext=function(e){return e?e.nextStep!==undefined||this.steps.indexOf(e)<this.steps.length-1:(console.warn("Can't get next step. No currentStep."),!1)},e.prototype.prev=function(){this.hasPrev(this.currentStep)&&this.goToStep(this.loadStep(this.currentStep.prevStep||this.steps.indexOf(this.currentStep)-1))},e.prototype.hasPrev=function(e){return e?e.prevStep!==undefined||0<this.steps.indexOf(e):(console.warn("Can't get previous step. No currentStep."),!1)},e.prototype["goto"]=function(e){this.goToStep(this.loadStep(e))},e.prototype.register=function(e,t){if(this.anchors[e])throw new Error("anchorId "+e+" already registered!");this.anchors[e]=t,this.anchorRegister$.next(e)},e.prototype.unregister=function(e){delete this.anchors[e],this.anchorUnregister$.next(e)},e.prototype.getStatus=function(){return this.status},e.prototype.goToStep=function(t){var n=this;if(!t)return console.warn("Can't go to non-existent step"),void this.end();var e=new Promise(function(e){return e(!0)});t.route!==undefined&&"string"==typeof t.route?e=this.router.navigateByUrl(t.route):t.route&&Array.isArray(t.route)&&(e=this.router.navigate(t.route)),e.then(function(e){!1!==e&&setTimeout(function(){return n.setCurrentStep(t)})})},e.prototype.loadStep=function(t){return"number"==typeof t?this.steps[t]:this.steps.find(function(e){return e.stepId===t})},e.prototype.setCurrentStep=function(e){var t=this;this.currentStep&&this.hideStep(this.currentStep),setTimeout(function(){t.currentStep=e,t.showStep(t.currentStep),t.router.events.pipe(p.filter(function(e){return e instanceof o.NavigationStart}),p.first()).subscribe(function(){t.currentStep&&t.hideStep(t.currentStep)})},this.currentStep?200:0)},e.prototype.showStep=function(e,t){var n=this;void 0===t&&(t=0);var r=this.anchors[e&&e.anchorId];r?(r.showTourStep(e),this.stepShow$.next(e)):20===t?(console.warn("Can't attach to unregistered anchor with id "+e.anchorId),this.end()):setTimeout(function(){return n.showStep(e,t++)},100)},e.prototype.hideStep=function(e){var t=this.anchors[e&&e.anchorId];t&&(t.hideTourStep(),this.stepHide$.next(e))},e.decorators=[{type:l.Injectable}],e.ctorParameters=function(){return[{type:o.Router}]},e}(),C=function(r){function e(e,t){var n=r.call(this,t)||this;return n.tourService=e,n.cdr=t,n._hasBackdrop=!0,n.step={},n.closed$=new l.EventEmitter,n.closeSubscription=n.nzVisibleChange.subscribe(function(e){e||n.closed$.emit()}),n}return function i(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(e,r),e.prototype.ngOnDestroy=function(){this.closeSubscription.unsubscribe()},e.prototype.onEscapeKey=function(){this.tourService.getStatus()===O.ON&&this.tourService.end()},e.prototype.onArrowRightKey=function(){this.tourService.getStatus()===O.ON&&this.tourService.hasNext(this.tourService.currentStep)&&this.tourService.next()},e.prototype.onArrowLeftKey=function(){this.tourService.getStatus()===O.ON&&this.tourService.hasPrev(this.tourService.currentStep)&&this.tourService.prev()},e.decorators=[{type:l.Component,args:[{selector:"ngx-tour-step",template:'<ng-template\n        cdkConnectedOverlay\n        [cdkConnectedOverlayOrigin]="overlayOrigin"\n        [cdkConnectedOverlayHasBackdrop]="_hasBackdrop"\n        (backdropClick)="hide()"\n        (detach)="hide()"\n        (positionChange)="onPositionChange($event)"\n        [cdkConnectedOverlayPositions]="_positions"\n        [cdkConnectedOverlayOpen]="visible$ | async">\n    <div class="ant-popover" [ngClass]="_classMap" [ngStyle]="nzOverlayStyle" [@fadeAnimation]="\'\'+(visible$ | async)"\n         (@fadeAnimation.done)="_afterVisibilityAnimation($event)">\n        <div class="ant-popover-content">\n            <div class="ant-popover-arrow"></div>\n            <div class="ant-popover-inner">\n                <ng-container *ngTemplateOutlet="stepTemplate || defaultTemplate; context: { step: step }"></ng-container>\n            </div>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #defaultTemplate let-step="step">\n    <div class="step-container" (click)="$event.stopPropagation()">\n        <div *ngIf="step?.title" class="step-title">\n            {{ step?.title }}\n        </div>\n        <div class="step-content">\n            {{ step?.content }}\n        </div>\n        <div class="step-actions">\n            <button class="step-btn" [disabled]="!tourService.hasPrev(step)" (click)="tourService.prev()">\n                <svg class="icon-btn" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"\n                     xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"\n                     y="0px"\n                     viewBox="0 0 477.175 477.175" style="enable-background:new 0 0 477.175 477.175;"\n                     xml:space="preserve">\n<g>\n\t<path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225\n\t\tc2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/>\n</g>\n                    <g>\n</g>\n                    <g>\n</g>\n                    <g>\n</g>\n                    <g>\n</g>\n                    <g>\n</g>\n                    <g>\n</g>\n                    <g>\n</g>\n                    <g>\n</g>\n                    <g>\n</g>\n                    <g>\n</g>\n                    <g>\n</g>\n                    <g>\n</g>\n                    <g>\n</g>\n                    <g>\n</g>\n                    <g>\n</g>\n</svg>\n            </button>\n            <button class="step-btn" [disabled]="!tourService.hasNext(step) || step.nextOn" (click)="tourService.next()">\n                <svg class="icon-btn" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129"\n                     xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 129 129">\n                    <g>\n                        <path d="m40.4,121.3c-0.8,0.8-1.8,1.2-2.9,1.2s-2.1-0.4-2.9-1.2c-1.6-1.6-1.6-4.2 0-5.8l51-51-51-51c-1.6-1.6-1.6-4.2 0-5.8 1.6-1.6 4.2-1.6 5.8,0l53.9,53.9c1.6,1.6 1.6,4.2 0,5.8l-53.9,53.9z"/>\n                    </g>\n                </svg>\n            </button>\n            <button class="step-btn" (click)="tourService.end()">{{ step?.endBtnTitle }}</button>\n        </div>\n    </div>\n</ng-template>\n',animations:[h]}]}],e.ctorParameters=function(){return[{type:x},{type:l.ChangeDetectorRef}]},e.propDecorators={onEscapeKey:[{type:l.HostListener,args:["window:keydown.Escape"]}],onArrowRightKey:[{type:l.HostListener,args:["window:keydown.ArrowRight"]}],onArrowLeftKey:[{type:l.HostListener,args:["window:keydown.ArrowLeft"]}]},e}(g),z=function(){function e(e){this.renderer=e.createRenderer(null,null)}return e.prototype.show=function(e,t,n){var r,i,o=e.nativeElement.getBoundingClientRect();if(!this.backdropElement){this.backdropElement=this.renderer.createElement("div"),this.renderer.addClass(this.backdropElement,"ngx-tour_backdrop"),this.renderer.appendChild(document.body,this.backdropElement);var s={position:"fixed","z-index":"100"};try{for(var a=b(Object.keys(s)),p=a.next();!p.done;p=a.next()){var l=p.value;this.renderer.setStyle(this.backdropElement,l,s[l])}}catch(u){r={error:u}}finally{try{p&&!p.done&&(i=a["return"])&&i.call(a)}finally{if(r)throw r.error}}}this.setStyles(o,t,n)},e.prototype.close=function(){this.backdropElement&&(this.renderer.removeChild(document.body,this.backdropElement),this.backdropElement=null)},e.prototype.setStyles=function(e,t,n){var r,i,o={outline:"9999px solid "+(n||"rgba(0, 0, 0, 0.7)"),"border-radius":t||"100%"};if(this.currentBoundingRect)if(this.backdropElement.animate){var s=this.currentBoundingRect.height+"px",a=this.currentBoundingRect.width+"px",p=this.currentBoundingRect.top+"px",l=this.currentBoundingRect.left+"px",u=e.height+"px",c=e.width+"px",h=e.top+"px",y=e.left+"px";this.backdropElement.animate([{height:s,width:a,top:p,left:l},{height:u,width:c,top:h,left:y}],{duration:200,easing:"ease-in-out",fill:"forwards"})}else o=m({},o,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",transition:"width 200ms ease-in-out,height 200ms ease-in-out,top 200ms ease-in-out,left 200ms ease-in-out"});else o=m({},o,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px"});this.currentBoundingRect=e;try{for(var f=b(Object.keys(o)),d=f.next();!d.done;d=f.next()){var v=d.value;this.backdropElement.style[v]!==o[v]&&this.renderer.setStyle(this.backdropElement,v,o[v])}}catch(g){r={error:g}}finally{try{d&&!d.done&&(i=f["return"])&&i.call(f)}finally{if(r)throw r.error}}},e.decorators=[{type:l.Injectable}],e.ctorParameters=function(){return[{type:l.RendererFactory2}]},e}(),E=function(){function e(e,t,n,r,i,o,s,a){this.elementRef=e,this.componentFactoryResolver=t,this.injector=n,this.renderer=r,this.viewContainer=i,this.resolver=o,this.tourService=s,this.tourBackdrop=a,this.enableRippleEffect=!1,this.allowInteractions=!1}return e.prototype.ngOnInit=function(){var e=this.resolver.resolveComponentFactory(C),t=this.viewContainer.createComponent(e);this.tourStep=t.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),t.location.nativeElement),this.tourStep.setOverlayOrigin(this),this.tourService.register(this.tourAnchor,this)},e.prototype.ngOnDestroy=function(){this.tourService.unregister(this.tourAnchor)},e.prototype.showTourStep=function(e){var t=this;if(this.isActive=!0,this.tourStep.step=e,this.tourStep.nzPlacement=e.placement,this.tourStep.stepTemplate=e.stepTemplate,e.preventScrolling||(a(this.elementRef.nativeElement,{sides:"bottom"})?a(this.elementRef.nativeElement,{sides:"left top right"})||this.elementRef.nativeElement.scrollIntoView(!0):this.elementRef.nativeElement.scrollIntoView(!1)),this.enableRippleEffect=e.enableRippleEffect,this.allowInteractions=e.allowInteractions,e.nextOn){this.allowInteractions=!0;var n=function(){t.elementRef.nativeElement.removeEventListener(e.nextOn,n),t.tourService.next()};this.elementRef.nativeElement.addEventListener(e.nextOn,n)}if(this.tourStep.show(),e.disableBackdrop?this.tourBackdrop.close():this.tourBackdrop.show(this.elementRef,e.backdropRadius,e.backdropColor),e.enableRippleEffect){var r=e.rippleColor?e.rippleColor:"rgba(0, 0, 0, 0.7)";this.elementRef.nativeElement.style.boxShadow=r+" 0px 0px 0px 100vw"}e.prevBtnTitle=e.prevBtnTitle||"Prev",e.nextBtnTitle=e.nextBtnTitle||"Next",e.endBtnTitle=e.endBtnTitle||"End",this.menuCloseSubscription&&this.menuCloseSubscription.unsubscribe(),this.menuCloseSubscription=this.tourStep.closed$.pipe(p.first()).subscribe(function(){t.tourService.getStatus()!==O.OFF&&(t.tourService.end(),t.tourBackdrop.close())})},e.prototype.hideTourStep=function(){this.isActive=!1,this.enableRippleEffect&&(this.elementRef.nativeElement.style.boxShadow="none"),this.menuCloseSubscription&&this.menuCloseSubscription.unsubscribe(),this.tourStep.hide(),this.tourService.getStatus()===O.OFF&&this.tourBackdrop.close()},e.decorators=[{type:l.Directive,args:[{selector:"[tourAnchor]"}]}],e.ctorParameters=function(){return[{type:l.ElementRef},{type:l.ComponentFactoryResolver},{type:l.Injector},{type:l.Renderer2},{type:l.ViewContainerRef},{type:l.ComponentFactoryResolver},{type:x},{type:z}]},e.propDecorators={tourAnchor:[{type:l.Input}],isActive:[{type:l.HostBinding,args:["class.touranchor--is-active"]}],enableRippleEffect:[{type:l.HostBinding,args:["class.ripple-effect"]}],allowInteractions:[{type:l.HostBinding,args:["class.allow-interactions"]}]},e}(),T=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[z,x]}},e.decorators=[{type:l.NgModule,args:[{declarations:[E,C],entryComponents:[C],exports:[E],imports:[i.CommonModule,n.OverlayModule,w]}]}],e}();e.NgxAppTour=T,e.TourService=x,e.TourState=O,e.TourAnchorDirective=E,e.ɵb=C,e.ɵd=h,e.ɵc=g,e.ɵf=g,e.ɵg=S,e.ɵe=w,e.ɵa=z,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-app-tour.umd.min.js.map